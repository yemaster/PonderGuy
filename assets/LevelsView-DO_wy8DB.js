import{d as S,r as a,o as T,c as u,b as e,F as g,h as j,n as b,i as h,j as y,w as D,v as V,k as $,u as B,e as p,t as f,p as I,f as G}from"./index-PN4Ug47z.js";import"./bootstrap.min-BTQ0lj5t.js";import{a as N}from"./axios-DmY7Om-x.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjsHelpers-C4iS2aBk.js";const l=o=>(I("data-v-c50d87dc"),o=o(),G(),o),F={class:"pg-container"},P=l(()=>e("h1",{class:"pg-header"},"关卡选择",-1)),U=l(()=>e("div",{class:"pg-divider"},null,-1)),q={class:"pg-level-list"},z=["onClick"],E={class:"pg-level-text"},H={class:"pg-level-text-content"},A={class:"pg-level-name"},J=l(()=>e("div",{class:"pg-level-text"},[e("div",{class:"pg-level-text-content"},[e("div",{class:"pg-level-name"}," 自定义关卡")])],-1)),K=[J],O={class:"modal fade",id:"importModal",tabindex:"-1","aria-labelledby":"importModalLabel","aria-hidden":"true"},Q={class:"modal-dialog"},W={class:"modal-content"},X=l(()=>e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"importModalLabel"},"自定义关卡"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Y={class:"modal-body"},Z=l(()=>e("br",null,null,-1)),ee=l(()=>e("button",{type:"button",id:"closeModelButton",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1)),te=S({__name:"LevelsView",setup(o){document.title="关卡选择 | Ponder Guy";const m="/PonderGuy",_=a(),t=a();T(()=>{_.value.style.opacity="1"});const k=$(),i=B(),d=a([]),x=a(0);N.get("/levels/list.json").then(n=>{const c=n.data;d.value=c.levels;let s=Number(k.query.level);s>=0&&s<d.value.length||(s=0),x.value=s});function L(n){t.value.style.visibility="visible",t.value.style.opacity="1",setTimeout(()=>{i.push(`/game/${n}`)},500)}function w(){t.value.style.visibility="visible",t.value.style.opacity="1",setTimeout(()=>{i.push("/help")},500)}function C(){t.value.style.visibility="visible",t.value.style.opacity="1",setTimeout(()=>{i.push("/game/design")},500)}const v=a("");function M(){localStorage.levelData=v.value,t.value.style.visibility="visible",t.value.style.opacity="1",setTimeout(()=>{i.push("/game/custom")},500)}return(n,c)=>(p(),u(g,null,[e("div",{class:"cover",ref_key:"cover",ref:t},null,512),e("div",{class:"gs",ref_key:"fog",ref:_},[e("div",F,[P,e("ul",{class:"pg-nav"},[e("li",{class:"pg-nav-item"},[e("a",{href:"javascript:;",class:"pg-nav-link",onClick:w},"玩法帮助")]),e("li",{class:"pg-nav-item"},[e("a",{href:"javascript:;",class:"pg-nav-link",onClick:C},"关卡设计器")])]),U,e("div",q,[(p(!0),u(g,null,j(d.value,(s,r)=>(p(),u("div",{class:"pg-level-box",key:r,style:b(`background-image: url(${h(m)}${s.img});`),onClick:se=>L(r)},[e("div",E,[e("div",H,[y(" Level "+f(r)+" ",1),e("div",A,f(s.name),1)])])],12,z))),128)),e("div",{class:"pg-level-box",style:b(`background-image: url(${h(m)}/imgs/designer.jpg);`),"data-bs-toggle":"modal","data-bs-target":"#importModal"},K,4)])])],512),e("div",O,[e("div",Q,[e("div",W,[X,e("div",Y,[y(" 关卡代码"),Z,D(e("textarea",{class:"form-control",style:{width:"100%",height:"100%","min-height":"200px"},"onUpdate:modelValue":c[0]||(c[0]=s=>v.value=s)},null,512),[[V,v.value]])]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:M},"确定"),ee])])])])],64))}}),ce=R(te,[["__scopeId","data-v-c50d87dc"]]);export{ce as default};
