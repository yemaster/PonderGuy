import{d as w,f as a,l as D,a as u,g as e,F as g,B as T,e as b,u as h,b as y,C as B,D as V,E as $,p as j,o as p,h as f,x as I,y as G}from"./index-Cg0EeqSd.js";import{a as N}from"./axios-DmY7Om-x.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const l=o=>(I("data-v-2a813212"),o=o(),G(),o),E={class:"pg-container"},F=l(()=>e("h1",{class:"pg-header"},"关卡选择",-1)),P=l(()=>e("div",{class:"pg-divider"},null,-1)),U={class:"pg-level-list"},q=["onClick"],z={class:"pg-level-text"},H={class:"pg-level-text-content"},A={class:"pg-level-name"},J=l(()=>e("div",{class:"pg-level-text"},[e("div",{class:"pg-level-text-content"},[e("div",{class:"pg-level-name"}," 自定义关卡")])],-1)),K=[J],O={class:"modal fade",id:"importModal",tabindex:"-1","aria-labelledby":"importModalLabel","aria-hidden":"true"},Q={class:"modal-dialog"},W={class:"modal-content"},X=l(()=>e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"importModalLabel"},"自定义关卡"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Y={class:"modal-body"},Z=l(()=>e("br",null,null,-1)),ee=l(()=>e("button",{type:"button",id:"closeModelButton",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消",-1)),se=w({__name:"LevelsView",setup(o){document.title="关卡选择 | Ponder Guy";let m="/PonderGuy";const _=a(),s=a();D(()=>{_.value.style.opacity="1"});const x=$(),i=j(),d=a([]),k=a(0);N.get("/levels/list.json").then(n=>{const c=n.data;d.value=c.levels;let t=Number(x.query.level);t>=0&&t<d.value.length||(t=0),k.value=t});function C(n){s.value.style.visibility="visible",s.value.style.opacity="1",setTimeout(()=>{i.push(`/game/${n}`)},500)}function L(){s.value.style.visibility="visible",s.value.style.opacity="1",setTimeout(()=>{i.push("/help")},500)}function M(){s.value.style.visibility="visible",s.value.style.opacity="1",setTimeout(()=>{i.push("/game/design")},500)}const v=a("");function S(){localStorage.levelData=v.value,s.value.style.visibility="visible",s.value.style.opacity="1",setTimeout(()=>{i.push("/game/custom")},500)}return(n,c)=>(p(),u(g,null,[e("div",{class:"cover",ref_key:"cover",ref:s},null,512),e("div",{class:"gs",ref_key:"fog",ref:_},[e("div",E,[F,e("ul",{class:"pg-nav"},[e("li",{class:"pg-nav-item"},[e("a",{href:"javascript:;",class:"pg-nav-link",onClick:L},"玩法帮助")]),e("li",{class:"pg-nav-item"},[e("a",{href:"javascript:;",class:"pg-nav-link",onClick:M},"关卡设计器")])]),P,e("div",U,[(p(!0),u(g,null,T(d.value,(t,r)=>(p(),u("div",{class:"pg-level-box",key:r,style:b(`background-image: url(${h(m)}${t.img});`),onClick:te=>C(r)},[e("div",z,[e("div",H,[y(" Level "+f(r)+" ",1),e("div",A,f(t.name),1)])])],12,q))),128)),e("div",{class:"pg-level-box",style:b(`background-image: url(${h(m)}/imgs/designer.jpg);`),"data-bs-toggle":"modal","data-bs-target":"#importModal"},K,4)])])],512),e("div",O,[e("div",Q,[e("div",W,[X,e("div",Y,[y(" 关卡代码"),Z,B(e("textarea",{class:"form-control",style:{width:"100%",height:"100%","min-height":"200px"},"onUpdate:modelValue":c[0]||(c[0]=t=>v.value=t)},null,512),[[V,v.value]])]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:S},"确定"),ee])])])])],64))}}),ie=R(se,[["__scopeId","data-v-2a813212"]]);export{ie as default};
