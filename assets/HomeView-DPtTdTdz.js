import{d as E,r as l,o as F,a as B,c as G,b as e,F as P,u as S,t as A,e as D,p as R,f as z}from"./index-DRh3Dy5k.js";import{S as V,C as I,P as H,V as W,M as Y,a as J,b as Z,A as q,D as N,d as C,W as j}from"./index-CE_QVOjg.js";import{u as U,G as O,M as K}from"./index-D3EQUTn9.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjsHelpers-C4iS2aBk.js";import"./axios-DmY7Om-x.js";const X="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%20[%3c!ENTITY%20nbsp%20'%20'%3e]%3e%3csvg%20data-noselect=''%20width='200'%20height='200'%20ref='svg_canvas'%20preserveAspectRatio='none'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20style='background:%20transparent;'%3e%3cdefs%3e%3c/defs%3e%3cg%20xmlns='http://www.w3.org/2000/svg'%20id='shape_MFTiJwY3ZC'%20class=''%20ref='shape_MFTiJwY3ZC'%20key='shape_MFTiJwY3ZC'%20transform='translate(20,%2020)%20scale(1,1)'%20style='cursor:move;display:inline;opacity:1;'%20filter=''%3e%3cg%20style='display:inline'%3e%3crect%20fill='rgba(0,0,0,0)'%20width='180'%20height='180'%20x='-10'%20y='-10'/%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20id='图层_1'%20x='0px'%20y='0px'%20width='160'%20height='152.45622471038627'%20viewBox='2.6600608825683594%207.145834922790527%20194.84063720703125%20185.6541748046875'%20style='enable-background:new%200%200%20200%20200;'%20xml:space='preserve'%20class='style-removed'%20preserveAspectRatio='none'%20data-parent='shape_MFTiJwY3ZC'%3e%3cg%3e%3cg%3e%3cpath%20d='M130.6,142.6c-5.6-15-15-38.7-22.9-51.2c-13-20.6-23.4-16.3-19.7,6.4c3.6,22,11.1,48,18.2,62.6%20c-0.2,0.2-0.4,0.3-0.6,0.4c-12.3-13.2-32-30-46.8-39.9c-19.8-13.2-26.6-6.6-15.1,14c8.6,15.5,24.8,32.2,32.3,39.6%20c-21.1,7.4-38.9,8.8-47.2,7.8c-15.2-1.8-22-8.1-24.9-18c-4-13.6-1.1-56.9,51.6-93.4c40.7-28.2,71.3-11.1,85,5.4%20C150.6,88.7,163,113.2,130.6,142.6z'%20fill='%23EF8201'/%3e%3cpath%20d='M173.5,86.3c-13.1-0.2-23.8-7.1-23.6-11.5c0.2-4.4,10.8-10.9,24-10.7c13.1,0.2,23.7,3.8,23.6,11.5%20C197.4,82.8,186.7,86.6,173.5,86.3z'%20fill='%23BFD700'/%3e%3cpath%20d='M171.6,29.6c-6.4,13.4-26.4,39.9-31.7,37.4c-5.3-2.5,3-33.6,9.6-47c6.3-12.8,11.7-14.2,17.2-12%20C172.1,10.2,178,16.2,171.6,29.6z'%20fill='%2317A831'/%3e%3c/g%3e%3cg%3e%3cg%3e%3ccircle%20cx='112.9'%20cy='187.6'%20r='5.2'%20fill='%23EF8201'/%3e%3ccircle%20cx='131'%20cy='176.4'%20r='5.2'%20fill='%23EF8201'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3c/g%3e%3c/g%3e%3c/svg%3e",v=d=>(R("data-v-89ccc95d"),d=d(),z(),d),$=v(()=>e("img",{src:X},null,-1)),ee=v(()=>e("span",null,"VegeTable Game",-1)),te=[$,ee],se=v(()=>e("canvas",{id:"home-scene"},null,-1)),oe=E({__name:"HomeView",setup(d){const p=U(),g=l(),h=l(),m=l(),y=l(),o=l(),M=S();document.title="Ponder Guy";const t={width:window.innerWidth,height:window.innerHeight};let u;const i=new V;i.background=new I(16711613);const r=new H(75,t.width/t.height,.1,50);r.position.set(-5,5,20),r.lookAt(new W(15,15,0));const f=new Y(new J(100,100),new Z({color:15658734}));f.rotation.x=-Math.PI/2,i.add(f);const T=new q(16777215,2);i.add(T);const _=new N(16777215,.9);_.position.set(0,40,0),i.add(_);let a;function x(){a.render(i,r),p.updateAnimation(),requestAnimationFrame(x)}const w=()=>{const n=u.getBoundingClientRect();t.height=n.height,t.width=n.width,r.aspect=t.width/t.height,r.updateProjectionMatrix(),a.setSize(t.width,t.height),a.setPixelRatio(window.devicePixelRatio)},k=()=>{u=document.querySelector("#home-scene"),a=new j({antialias:!0,canvas:u}),new O().setMeshoptDecoder(K),p.getPonderModel().then(s=>{const b=A(s).scene;b.scale.set(15,15,15),i.add(b),p.setAnimation("Sitting")}),w(),requestAnimationFrame(x)};window.addEventListener("resize",C(w,100)),F(()=>{o.value.style.visibility="visible",o.value.style.opacity="1",k(),setTimeout(()=>{g.value.style.opacity="1"},100),setTimeout(()=>{g.value.style.opacity="0",h.value.style.opacity="0",o.value.style.opacity="0",o.value.style.visibility="hidden"},2e3),setTimeout(()=>{m.value.style.opacity="1",m.value.style.transform="translate(-70%, -50%)",h.value.style.visibility="hidden"},2500),setTimeout(()=>{y.value.style.opacity="1"},2800)});function L(){o.value.style.visibility="visible",o.value.style.opacity="1",setTimeout(()=>{M.push("/game/list")},500)}return B(()=>{var n;window.removeEventListener("resize",C(w,100));try{a.dispose(),a.forceContextLoss();let s=a.domElement.getContext("webgl");s&&s.getExtension("WEBGL_lose_context")&&((n=s.getExtension("WEBGL_lose_context"))==null||n.loseContext()),i.traverse(c=>{c.material&&c.material.dispose(),c.geometry&&c.geometry.dispose(),c=null})}catch(s){console.error("Failed to destroy threejs",s)}}),(n,s)=>(D(),G(P,null,[e("div",{class:"cover",ref_key:"cover",ref:o},null,512),e("div",{class:"fog",ref_key:"fog",ref:h},[e("div",{class:"com-logo",ref_key:"cl",ref:g},te,512)],512),e("div",null,[e("div",{class:"pg-header-logo",ref_key:"pageHeader",ref:m},"Ponder Guy",512),e("div",{class:"pg-start-button",ref_key:"startButton",ref:y,onClick:L},"点 击 开 始",512)]),se],64))}}),de=Q(oe,[["__scopeId","data-v-89ccc95d"]]);export{de as default};
