import{d as B,r as l,o as G,a as P,c as S,b as t,F as A,u as D,e as z,p as R,f as V}from"./index-TZOZeuRi.js";import{S as I,C as H,P as W,V as Y,M as J,a as N,b as Z,A as q,D as j,d as C,W as U,c as O,e as K,f as Q}from"./index-BSPv5FcJ.js";import{u as X,G as $,M as ee}from"./index-DgrBhJEU.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./_commonjsHelpers-C4iS2aBk.js";import"./axios-DmY7Om-x.js";const se="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%20[%3c!ENTITY%20nbsp%20'%20'%3e]%3e%3csvg%20data-noselect=''%20width='200'%20height='200'%20ref='svg_canvas'%20preserveAspectRatio='none'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20style='background:%20transparent;'%3e%3cdefs%3e%3c/defs%3e%3cg%20xmlns='http://www.w3.org/2000/svg'%20id='shape_MFTiJwY3ZC'%20class=''%20ref='shape_MFTiJwY3ZC'%20key='shape_MFTiJwY3ZC'%20transform='translate(20,%2020)%20scale(1,1)'%20style='cursor:move;display:inline;opacity:1;'%20filter=''%3e%3cg%20style='display:inline'%3e%3crect%20fill='rgba(0,0,0,0)'%20width='180'%20height='180'%20x='-10'%20y='-10'/%3e%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20version='1.1'%20id='图层_1'%20x='0px'%20y='0px'%20width='160'%20height='152.45622471038627'%20viewBox='2.6600608825683594%207.145834922790527%20194.84063720703125%20185.6541748046875'%20style='enable-background:new%200%200%20200%20200;'%20xml:space='preserve'%20class='style-removed'%20preserveAspectRatio='none'%20data-parent='shape_MFTiJwY3ZC'%3e%3cg%3e%3cg%3e%3cpath%20d='M130.6,142.6c-5.6-15-15-38.7-22.9-51.2c-13-20.6-23.4-16.3-19.7,6.4c3.6,22,11.1,48,18.2,62.6%20c-0.2,0.2-0.4,0.3-0.6,0.4c-12.3-13.2-32-30-46.8-39.9c-19.8-13.2-26.6-6.6-15.1,14c8.6,15.5,24.8,32.2,32.3,39.6%20c-21.1,7.4-38.9,8.8-47.2,7.8c-15.2-1.8-22-8.1-24.9-18c-4-13.6-1.1-56.9,51.6-93.4c40.7-28.2,71.3-11.1,85,5.4%20C150.6,88.7,163,113.2,130.6,142.6z'%20fill='%23EF8201'/%3e%3cpath%20d='M173.5,86.3c-13.1-0.2-23.8-7.1-23.6-11.5c0.2-4.4,10.8-10.9,24-10.7c13.1,0.2,23.7,3.8,23.6,11.5%20C197.4,82.8,186.7,86.6,173.5,86.3z'%20fill='%23BFD700'/%3e%3cpath%20d='M171.6,29.6c-6.4,13.4-26.4,39.9-31.7,37.4c-5.3-2.5,3-33.6,9.6-47c6.3-12.8,11.7-14.2,17.2-12%20C172.1,10.2,178,16.2,171.6,29.6z'%20fill='%2317A831'/%3e%3c/g%3e%3cg%3e%3cg%3e%3ccircle%20cx='112.9'%20cy='187.6'%20r='5.2'%20fill='%23EF8201'/%3e%3ccircle%20cx='131'%20cy='176.4'%20r='5.2'%20fill='%23EF8201'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e%3c/g%3e%3c/g%3e%3c/svg%3e",y=d=>(R("data-v-e8f888a3"),d=d(),V(),d),oe=y(()=>t("img",{src:se},null,-1)),ie=y(()=>t("span",null,"VegeTable Game",-1)),ae=[oe,ie],ne=y(()=>t("canvas",{id:"home-scene"},null,-1)),ce=B({__name:"HomeView",setup(d){const M=X(),g=l(),m=l(),h=l(),f=l(),a=l(),k=D();document.title="Ponder Guy";const s={width:window.innerWidth,height:window.innerHeight};let w;const n=new I;n.background=new H(16711613);const r=new W(75,s.width/s.height,.1,50);r.position.set(-5,5,20),r.lookAt(new Y(15,15,0));const _=new J(new N(100,100),new Z({color:15658734}));_.rotation.x=-Math.PI/2,n.add(_);const T=new q(16777215,2);n.add(T);const x=new j(16777215,.9);x.position.set(0,40,0),n.add(x);let c;const L=new Q;let p;function b(){c.render(n,r),p&&p.update(L.getDelta()),requestAnimationFrame(b)}const u=()=>{const e=w.getBoundingClientRect();s.height=e.height,s.width=e.width,r.aspect=s.width/s.height,r.updateProjectionMatrix(),c.setSize(s.width,s.height),c.setPixelRatio(window.devicePixelRatio)},E=()=>{w=document.querySelector("#home-scene"),c=new U({antialias:!0,canvas:w});const e=new $;e.setMeshoptDecoder(ee),M.getPonder().then(o=>{e.parse(o,"/",i=>{const v=i.scene;v.scale.set(15,15,15),n.add(v),p=new O(v),p.clipAction(K.findByName(i.animations,"Sitting")).play()})}),u(),requestAnimationFrame(b)};window.addEventListener("resize",C(u,100)),G(()=>{a.value.style.visibility="visible",a.value.style.opacity="1",E(),setTimeout(()=>{g.value.style.opacity="1"},100),setTimeout(()=>{g.value.style.opacity="0",m.value.style.opacity="0",a.value.style.opacity="0",a.value.style.visibility="hidden"},2e3),setTimeout(()=>{h.value.style.opacity="1",h.value.style.transform="translate(-70%, -50%)",m.value.style.visibility="hidden"},2500),setTimeout(()=>{f.value.style.opacity="1"},2800)});function F(){a.value.style.visibility="visible",a.value.style.opacity="1",setTimeout(()=>{k.push("/game/list")},500)}return P(()=>{var e;window.removeEventListener("resize",C(u,100));try{c.dispose(),c.forceContextLoss();let o=c.domElement.getContext("webgl");o&&o.getExtension("WEBGL_lose_context")&&((e=o.getExtension("WEBGL_lose_context"))==null||e.loseContext()),n.traverse(i=>{i.material&&i.material.dispose(),i.geometry&&i.geometry.dispose(),i=null})}catch(o){console.error("Failed to destroy threejs",o)}}),(e,o)=>(z(),S(A,null,[t("div",{class:"cover",ref_key:"cover",ref:a},null,512),t("div",{class:"fog",ref_key:"fog",ref:m},[t("div",{class:"com-logo",ref_key:"cl",ref:g},ae,512)],512),t("div",null,[t("div",{class:"pg-header-logo",ref_key:"pageHeader",ref:h},"Ponder Guy",512),t("div",{class:"pg-start-button",ref_key:"startButton",ref:f,onClick:F},"点 击 开 始",512)]),ne],64))}}),we=te(ce,[["__scopeId","data-v-e8f888a3"]]);export{we as default};
